# NICE_Moflp Dataset

The **NICE_Moflp** dataset is released in conjunction with our paper:  
**_Casual Federated Graph Neural Networks for Multi-objective Facility Location_**.

## Dataset Summary

The dataset supports multi-objective optimization tasks by jointly considering cost minimization and delivery reliability maximization.Each instance simulates real-world logistics scenarios involving facility construction, customer demands and transportation costs.

### Instance Sizes

To ensure diverse evaluation, the dataset includes **four instance sizes**, defined by the number of facility locations × number of customers:

- `Moflp-20-50`
- `Moflp-20-100`
- `Moflp-50-100`
- `Moflp-100-200`

Each size contains **2,000 instances**, split into:

- Training: 70%
- Validation: 20%
- Test: 10%

## Data Generation

The data is generated by:

1. **Randomly placing facilities and customers**.
2. Sampling key parameters:
   - **Facility fixed costs** ∈ [100,000, 200,000]
   - **Transportation unit costs** ∈ [100, 1,000]
   - **Customer demands** ∈ [500, 1,000]
   - **Distances** ∈ [100, 500]
   - **Delivery speeds** sampled from Gaussian distribution: mean = 50, std = 16
3. **Optimizing conflicting objectives** (cost vs. reliability) using the **NSGA-II** algorithm to simulate a realistic **Pareto frontier**.

### Optimization Objectives

Each instance is solved using **NSGA-II**, a multi-objective evolutionary algorithm, optimizing for:

- **Minimization of total cost**
- **Maximization of delivery reliability**


## Dataset Structure

Each data instance is stored as a Python dictionary with the following keys:

| Key        | Description |
|------------|-------------|
| `num_fac`  | Number of facilities |
| `num_cus`  | Number of customers |
| `D`        | `[num_fac x num_cus]` matrix of distances between facilities and customers |
| `Q`        | `[num_cus]` vector of customer demands |
| `F`        | `[num_fac]` vector of fixed costs to build each facility |
| `C`        | `[num_fac x num_cus]` matrix of transportation costs |
| `R`        | `[num_fac x num_cus]` matrix of reliability values for delivery |
| `t`        | Transportation time budget |
| `v_mean`   | Mean delivery speed used in simulation |
| `v_std`    | Standard deviation of speed (to simulate uncertainty) |
| `PF_obj`   | `[N x 2]` matrix of non-dominated (Pareto front) objective values from NSGA-II |
| `P_X`      | `[num_fac]` vector indicating the predicted probabilities of selecting each facility |
| `P_Y`      | `[num_cus × num_fac]` matrix representing the predicted assignment probabilities from each customer to all facilities |
| `all_obj`  | All feasible objective vectors evaluated during optimization |

Each instance is uniquely identified (e.g., `20-50-198`) and reproducible through fixed random seeds.

## Citation

If you use this dataset in your work, please cite:

```bibtex
@article{CFGNN,
  title={Casual Federated Graph Neural Networks for Multi-objective Facility Location},
  author={Xueming Yan, Yaochu Jin, Chuyue Wang, ShangShang Yang},
  journal={-},
  year={2025},
  note={Dataset available at: https://github.com/yanxm01/NICE_Moflp}
}
